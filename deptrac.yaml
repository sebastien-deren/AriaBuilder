parameters:
  paths:
    - ./src
  exclude_files:
    - "#.*test.*#"
  layers:
    - name: Domain
      collectors:
        - type: directory
          regex: .+/Domain/.*
    - name: Application
      collectors:
        - type: directory
          regex: .+/Repository/.*
    - name: Infrastructure
      collectors:
        - type: directory
          regex: .+/Infrastructure/.*
    - name: Vendors
      collectors:
        - { type: className, regex: ^ApiPlatform\\ }
        - { type: className, regex: ^Symfony\\(?!(Component\\Uid\\)) }
        - {
            type: className,
            regex: ^Doctrine\\(?!(ORM\\Mapping|Common\\Collections\\*)),
          }
        - { type: className, regex: ^Webmozart\\(?!Assert\\Assert) }
    - name: Collection
      collectors:
        - type: className
          regex: ^Doctrine\\Common\\Collections\\*
    - name: Attributes
      collectors:
        - type: className
          regex: ^Doctrine\\ORM\\Mapping
    - name: Helpers
      collectors:
        - { type: className, regex: ^Symfony\\Component\\Uid\\ }
  ruleset:
    Domain:
      - Collection
      - Attributes
      - Helpers
    Application:
      - Domain
      - Collection
      - Attributes
      - Helpers
    Infrastructure:
      - Domain
      - Application
      - Collection
      - Attributes
      - Vendors
      - Helpers
